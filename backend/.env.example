# SubsTranslator Environment Configuration Template
# Copy this file to .env and fill in your actual values

# =================== APPLICATION SETTINGS ===================
FLASK_ENV=production
DEBUG=False
HOST=0.0.0.0
PORT=8081
WORKERS=1

# =================== DIRECTORY CONFIGURATION ===================
UPLOAD_FOLDER=/app/uploads
DOWNLOADS_FOLDER=/app/downloads
WHISPER_MODELS_FOLDER=/app/whisper_models
ASSETS_FOLDER=/app/assets

# =================== FILE PROCESSING LIMITS ===================
MAX_FILE_SIZE=1073741824  # 1GB in bytes
MAX_FILE_AGE=86400        # 24 hours in seconds

# =================== WHISPER MODEL CONFIGURATION ===================
DEFAULT_WHISPER_MODEL=large
WHISPER_DEVICE=cpu
WHISPER_COMPUTE_TYPE=float32

# =================== HOSTED MODE CONFIGURATION ===================
# Set to True for hosted/cloud deployment (restricts large models to PRO tier)
# Set to False for self-hosted (all models available to all users)
HOSTED_MODE=False

# =================== LANGUAGE CONFIGURATION ===================
DEFAULT_SOURCE_LANG=auto
DEFAULT_TARGET_LANG=he

# =================== VIDEO PROCESSING CONFIGURATION ===================
DEFAULT_LOGO_SIZE=80
DEFAULT_WATERMARK_OPACITY=0.4
FFMPEG_THREADS=4
VIDEO_QUALITY=medium
SUBTITLE_FONT_SIZE=18

# =================== REDIS CONFIGURATION ===================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0

# =================== CELERY CONFIGURATION ===================
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=True
CELERY_RESULT_EXPIRES=3600

# =================== TASK CONFIGURATION ===================
TASK_SOFT_TIME_LIMIT=1800  # 30 minutes
TASK_TIME_LIMIT=2100       # 35 minutes
WORKER_CONCURRENCY=2
WORKER_PREFETCH_MULTIPLIER=1
WORKER_MAX_TASKS_PER_CHILD=100

# =================== YOUTUBE DOWNLOAD CONFIGURATION ===================
YOUTUBE_TIMEOUT=60
YOUTUBE_RETRIES=3
YOUTUBE_FRAGMENT_RETRIES=3

# YouTube Download Feature Toggle
# Set to False to disable YouTube downloads (useful if facing bot detection issues)
ENABLE_YOUTUBE_DOWNLOAD=True

# =================== LOGGING CONFIGURATION ===================
LOG_LEVEL=INFO
LOG_FORMAT="%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# =================== EXTERNAL API KEYS ===================
# Remove this section if not using OpenAI
# OPENAI_API_KEY=your_openai_api_key_here